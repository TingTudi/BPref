import os

# Define the key parts clearly
header = "LICENSE_ID: public"
key_label = "KEY:"
# The key block itself
key_lines = [
    "8B446700000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
    "00000000000000000000000000000000",
]

# Construct the full string with Windows Line Endings (\r\n)
full_content = header + "\r\n" + key_label + "\r\n" + "\r\n".join(key_lines) + "\r\n"

# Paths
user_home = os.path.expanduser("~")
mj_dir = os.path.join(user_home, ".mujoco")
bin_dir = os.path.join(mj_dir, "mujoco200", "bin")

paths = [
    os.path.join(mj_dir, "mjkey.txt"),
    os.path.join(bin_dir, "mjkey.txt")
]

print("--- Writing Windows-Format Key ---")
for p in paths:
    try:
        os.makedirs(os.path.dirname(p), exist_ok=True)
        # Write as binary to force the exact bytes we want
        with open(p, "wb") as f:
            f.write(full_content.encode('utf-8'))
        print(f"Success: {p}")
    except Exception as e:
        print(f"Failed {p}: {e}")

print("--- Done ---")